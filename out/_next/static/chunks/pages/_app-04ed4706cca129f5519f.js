(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6694:function(e,t,r){"use strict";r.d(t,{R:function(){return M},oR:function(){return L}});var n=r(7294),c=[],s=[{total_net_output_bytes:"",used_memory:"",connected_clients:"",evicted_keys:"",keyspace_hits:"",keyspace_misses:"",total_net_input_bytes:"",uptime_in_seconds:""}],o={username:""},i={},a={light:!1},u={update:!0,interval:1e4},l={name:"",endpoint:"",password:"",port:"",sessionToken:""},p=[],d=r(2809);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e,t){switch(t.type){case"updateUsername":var r=t.message;return m(m({},e),{},{username:r});default:return e}};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=function(e,t){var r=e.slice(),n=new Date;!function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}({time:"".concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds())},t.message);switch(t.type){case"updateMetrics":return console.log(r),r.push(t.message),r;default:return e}},O=function(e,t){var r,n,c,s,o,i=t.message,a=e.slice();switch(t.type){case"addServer":return a.push(i),r=i.name,n=i.endpoint,c=i.port,s=i.username,o=i.password,fetch("/api/servers",{method:"POST",body:JSON.stringify({name:r,endpoint:n,port:c,username:s,password:o}),"Content-Type":"application/json"}),a;case"deleteServer":return i?(function(e){fetch("/api/servers",{method:"DELETE",body:JSON.stringify({name:e}),"Content-Type":"application/json"})}(i.name),a.filter((function(e){return e.name!==i.name}))):e;case"populateList":return a.includes(i)?a:a.concat(i);default:return e}},g=function(e,t){switch(t.type){case"updateSelectedMetric":return t.message;default:return e}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var j=function(e,t){var r=t.message,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);switch(t.type){case"newMetricSelected":return n[r]=!0,n;case"metricUnselected":return delete n[r],n;default:return e}};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e,t){return P(P({},e),{},{light:!t.message})};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e,t){var r=t.message,n=e,c=r.name,s=r.endpoint,o=r.port,i=r.password;switch(t.type){case"currentServer":return _(_({},n),{},{name:c,endpoint:s,port:o,password:i});default:return e}};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);switch(t.type){case"updateInterval":return r.interval=1e3*Number(t.message),r;case"toggleInterval":return r.update=t.message,r;default:return e}},x=function(e,t){t.message;switch(t.type){case"addServer":case"deleteServer":case"populateList":default:return e}},$=r(5893),C=(0,n.createContext)({}),M=function(e){var t=e.children,r=(0,n.useReducer)(y,o),d=r[0],f=r[1],m=(0,n.useReducer)(b,s),h=m[0],v=m[1],w=(0,n.useReducer)(O,c),P=w[0],D=w[1],_=(0,n.useReducer)(g,""),k=_[0],M=_[1],L=(0,n.useReducer)(j,i),N=L[0],R=L[1],I=(0,n.useReducer)(S,a),Z=I[0],H=I[1],G=(0,n.useReducer)(E,l),J=G[0],K=G[1],A=(0,n.useReducer)(T,u),U=A[0],X=A[1],z=(0,n.useReducer)(x,p),V=z[0],q=z[1];return(0,$.jsx)(C.Provider,{value:{user:{userState:d,userDispatch:f},metricsStore:{metricState:h,metricsDispatch:v},servers:{serverList:P,serversDispatch:D},currentServer:{selectedServer:J,selectedServerDispatch:K},metricToGraph:{metricToGraph:k,selectedMetricDispatch:M},multipleGraphSelections:{multipleGraphState:N,multipleGraphDispatch:R},themeContext:{currentTheme:Z,themeDispatch:H},graphInterval:{updateInterval:U,updateIntervalDispatch:X},metricHistory:{metricHistoryState:V,metricHistoryDispatch:q}},children:t})},L=function(){return(0,n.useContext)(C)}},9629:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(2809),c=r(7294),s=r(9008);const o=(0,c.createContext)({setTheme:e=>{},themes:[]}),i=["light","dark"],a="(prefers-color-scheme: dark)",u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:u=["light","dark"],defaultTheme:m=(r?"system":"light"),attribute:y="data-theme",value:h,children:b})=>{const[O,g]=(0,c.useState)((()=>p(s,m))),[v,j]=(0,c.useState)((()=>p(s))),w=h?Object.values(h):u,P=(0,c.useCallback)((t=>{const r=f(t);j(r),"system"!==O||e||D(r,!1)}),[O,e]),S=(0,c.useRef)(P);S.current=P;const D=(0,c.useCallback)(((e,n=!0,c=!0)=>{let o=(null==h?void 0:h[e])||e;const i=t&&c?d():null;if(n)try{localStorage.setItem(s,e)}catch(e){}if("system"===e&&r){const e=f();o=(null==h?void 0:h[e])||e}if(c){const e=document.documentElement;"class"===y?(e.classList.remove(...w),e.classList.add(o)):e.setAttribute(y,o),null==i||i()}}),[]);(0,c.useEffect)((()=>{const e=function(){return S.current(...[].slice.call(arguments))},t=window.matchMedia(a);return t.addListener(e),e(t),()=>t.removeListener(e)}),[]);const _=(0,c.useCallback)((t=>{e?D(t,!0,!1):D(t),g(t)}),[e]);return(0,c.useEffect)((()=>{const e=e=>{e.key===s&&_(e.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[_]),(0,c.useEffect)((()=>{if(!n)return;let t=e&&i.includes(e)?e:O&&i.includes(O)?O:"system"===O&&v||null;document.documentElement.style.setProperty("color-scheme",t)}),[n,O,v,e]),c.createElement(o.Provider,{value:{theme:O,setTheme:_,forcedTheme:e,resolvedTheme:"system"===O?v:O,themes:r?[...u,"system"]:u,systemTheme:r?v:void 0}},c.createElement(l,{forcedTheme:e,storageKey:s,attribute:y,value:h,enableSystem:r,defaultTheme:m,attrs:w}),b)},l=(0,c.memo)((({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,defaultTheme:o,value:i,attrs:u})=>{const l="class"===r?`var d=document.documentElement.classList;d.remove(${u.map((e=>`'${e}'`)).join(",")});`:"var d=document.documentElement;",p=(e,t)=>{e=(null==i?void 0:i[e])||e;const n=t?e:`'${e}'`;return"class"===r?`d.add(${n})`:`d.setAttribute('${r}', ${n})`},d="system"===o;return c.createElement(s.default,null,c.createElement("script",e?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){${l}${p(e)}}()`}}:n?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){try {${l}var e=localStorage.getItem('${t}');${d?"":p(o)+";"}if("system"===e||(!e&&${d})){var t="${a}",m=window.matchMedia(t);m.media!==t||m.matches?${p("dark")}:${p("light")}}else if(e) ${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}catch(e){}}()`}}:{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){try{${l}var e=localStorage.getItem("${t}");if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o)};}}catch(t){}}();`}}))}),((e,t)=>e.forcedTheme===t.forcedTheme)),p=(e,t)=>{if("undefined"==typeof window)return;let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},d=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(e)}),1)}},f=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light");var m=r(6694),y=(r(647),r(5157)),h=r.n(y),b=r(5893);function O(){var e=(0,c.useContext)(o),t=e.theme,r=e.setTheme;return(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:h().switch,children:[(0,b.jsx)("input",{type:"checkbox",id:"darkMode",defaultChecked:"light"!==t,onClick:function(){r("light"===t?"dark":"light")}}),(0,b.jsx)("span",{className:h().slider})]})})}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.Component,r=e.pageProps;return(0,b.jsx)("div",{className:"general",children:(0,b.jsx)(m.R,{children:(0,b.jsxs)(u,{enableSystem:!1,children:[(0,b.jsx)(O,{}),(0,b.jsx)(t,v({},r))]})})})}},6363:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(9629)}])},5157:function(e){e.exports={switch:"DarkModeToggleSwitch_switch__ca6Gv",slider:"DarkModeToggleSwitch_slider__Me49b"}},647:function(){},9008:function(e,t,r){e.exports=r(639)},2809:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(6363),t(4651)}));var r=e.O();_N_E=r}]);