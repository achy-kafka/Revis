(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1227:function(e,t,r){"use strict";r.d(t,{R:function(){return A},oR:function(){return U}});var n=r(7294),c=[],o=[],s={username:""},i={},a={light:!1},u={update:!0,interval:1e4},l={name:"",endpoint:"",password:"",port:"",sessionToken:""},p=[],d={},f={total_net_output_bytes:"",used_memory:"",connected_clients:"",evicted_keys:"",keyspace_hits:"",keyspace_misses:"",total_net_input_bytes:"",uptime_in_seconds:""},m=r(2809);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e,t){switch(t.type){case"updateUsername":var r=t.message;return b(b({},e),{},{username:r});default:return e}},O=r(3789),g=function(e,t){var r;switch(r||(r=e.slice()),t.type){case"updateMetrics":return r.push(t.message),r;case"cleanMetrics":return Array.isArray(t.message.metricsUpdated)?(0,O.Z)(t.message.metricsUpdated):[t.message.metricsUpdated];default:return e}},v=function(e,t){var r,n,c,o,s,i=t.message,a=e.slice();switch(t.type){case"addServer":return a.push(i),r=i.name,n=i.endpoint,c=i.port,o=i.username,s=i.password,fetch("/api/servers",{method:"POST",body:JSON.stringify({name:r,endpoint:n,port:c,username:o,password:s}),"Content-Type":"application/json"}),a;case"deleteServer":return i?(function(e){fetch("/api/servers",{method:"DELETE",body:JSON.stringify({name:e}),"Content-Type":"application/json"})}(i.name),a.filter((function(e){return e.name!==i.name}))):e;case"populateList":return a.includes(i)?a:a.concat(i);default:return e}},j=function(e,t){switch(t.type){case"updateSelectedMetric":return t.message;default:return e}};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var P=function(e,t){var r=t.message,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);switch(t.type){case"newMetricSelected":return n[r]=!0,n;case"metricUnselected":return delete n[r],n;default:return e}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e,t){return D(D({},e),{},{light:!t.message})};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e,t){var r=t.message,n=e,c=r.name,o=r.endpoint,s=r.port,i=r.password;switch(t.type){case"currentServer":return k(k({},n),{},{name:c,endpoint:o,port:s,password:i});default:return e}};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var $=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);switch(t.type){case"updateInterval":return r.interval=1e3*Number(t.message),r;case"toggleInterval":return r.update=t.message,r;default:return e}},C=function(e,t){var r=t.message;switch(t.type){case"addServer":return r;case"deleteServer":return{};default:return e}};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Z=function(e,t){var r=t.message,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);switch(t.type){case"newDateSelected":return n[r]=[],n;case"dateUnselected":return delete n[r],n;default:return e}};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var R=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n=t.message,c=n.deletedMetric,o=n.updatedMetric;switch(t.type){case"changeMetric":return r[o]="",delete r[c],r;default:return e}},N=r(5893),L=(0,n.createContext)({}),A=function(e){var t=e.children,r=(0,n.useReducer)(h,s),m=r[0],y=r[1],b=(0,n.useReducer)(g,o),O=b[0],w=b[1],S=(0,n.useReducer)(v,c),D=S[0],_=S[1],k=(0,n.useReducer)(j,""),x=k[0],M=k[1],I=(0,n.useReducer)(P,i),A=I[0],U=I[1],G=(0,n.useReducer)(E,a),H=G[0],J=G[1],K=(0,n.useReducer)(T,l),X=K[0],z=K[1],V=(0,n.useReducer)($,u),q=V[0],B=V[1],F=(0,n.useReducer)(C,p),Q=F[0],W=F[1],Y=(0,n.useReducer)(Z,d),ee=Y[0],te=Y[1],re=(0,n.useReducer)(R,f),ne=re[0],ce=re[1];return(0,N.jsx)(L.Provider,{value:{user:{userState:m,userDispatch:y},metricsStore:{metricState:O,metricsDispatch:w},servers:{serverList:D,serversDispatch:_},currentServer:{selectedServer:X,selectedServerDispatch:z},metricToGraph:{metricToGraph:x,selectedMetricDispatch:M},multipleGraphSelections:{multipleGraphState:A,multipleGraphDispatch:U},themeContext:{currentTheme:H,themeDispatch:J},graphInterval:{updateInterval:q,updateIntervalDispatch:B},metricHistory:{metricHistoryState:Q,metricHistoryDispatch:W},datesSelected:{datesSelectedState:ee,datesSelectedDispatch:te},customMetrics:{customMetricState:ne,customMetricDispatch:ce}},children:t})},U=function(){return(0,n.useContext)(L)}},9629:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(2809),c=r(7294),o=r(9008);const s=(0,c.createContext)({setTheme:e=>{},themes:[]}),i=["light","dark"],a="(prefers-color-scheme: dark)",u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:o="theme",themes:u=["light","dark"],defaultTheme:m=(r?"system":"light"),attribute:y="data-theme",value:b,children:h})=>{const[O,g]=(0,c.useState)((()=>p(o,m))),[v,j]=(0,c.useState)((()=>p(o))),w=b?Object.values(b):u,P=(0,c.useCallback)((t=>{const r=f(t);j(r),"system"!==O||e||D(r,!1)}),[O,e]),S=(0,c.useRef)(P);S.current=P;const D=(0,c.useCallback)(((e,n=!0,c=!0)=>{let s=(null==b?void 0:b[e])||e;const i=t&&c?d():null;if(n)try{localStorage.setItem(o,e)}catch(e){}if("system"===e&&r){const e=f();s=(null==b?void 0:b[e])||e}if(c){const e=document.documentElement;"class"===y?(e.classList.remove(...w),e.classList.add(s)):e.setAttribute(y,s),null==i||i()}}),[]);(0,c.useEffect)((()=>{const e=function(){return S.current(...[].slice.call(arguments))},t=window.matchMedia(a);return t.addListener(e),e(t),()=>t.removeListener(e)}),[]);const E=(0,c.useCallback)((t=>{e?D(t,!0,!1):D(t),g(t)}),[e]);return(0,c.useEffect)((()=>{const e=e=>{e.key===o&&E(e.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[E]),(0,c.useEffect)((()=>{if(!n)return;let t=e&&i.includes(e)?e:O&&i.includes(O)?O:"system"===O&&v||null;document.documentElement.style.setProperty("color-scheme",t)}),[n,O,v,e]),c.createElement(s.Provider,{value:{theme:O,setTheme:E,forcedTheme:e,resolvedTheme:"system"===O?v:O,themes:r?[...u,"system"]:u,systemTheme:r?v:void 0}},c.createElement(l,{forcedTheme:e,storageKey:o,attribute:y,value:b,enableSystem:r,defaultTheme:m,attrs:w}),h)},l=(0,c.memo)((({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,defaultTheme:s,value:i,attrs:u})=>{const l="class"===r?`var d=document.documentElement.classList;d.remove(${u.map((e=>`'${e}'`)).join(",")});`:"var d=document.documentElement;",p=(e,t)=>{e=(null==i?void 0:i[e])||e;const n=t?e:`'${e}'`;return"class"===r?`d.add(${n})`:`d.setAttribute('${r}', ${n})`},d="system"===s;return c.createElement(o.default,null,c.createElement("script",e?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){${l}${p(e)}}()`}}:n?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){try {${l}var e=localStorage.getItem('${t}');${d?"":p(s)+";"}if("system"===e||(!e&&${d})){var t="${a}",m=window.matchMedia(t);m.media!==t||m.matches?${p("dark")}:${p("light")}}else if(e) ${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}catch(e){}}()`}}:{key:"next-themes-script",dangerouslySetInnerHTML:{__html:`!function(){try{${l}var e=localStorage.getItem("${t}");if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(s)};}}catch(t){}}();`}}))}),((e,t)=>e.forcedTheme===t.forcedTheme)),p=(e,t)=>{if("undefined"==typeof window)return;let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},d=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(e)}),1)}},f=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light");var m=r(1227),y=(r(647),r(5157)),b=r.n(y),h=r(5893);function O(){var e=(0,c.useContext)(s),t=e.theme,r=e.setTheme;return(0,h.jsx)("div",{children:(0,h.jsxs)("label",{className:b().switch,children:[(0,h.jsx)("input",{type:"checkbox",id:"darkMode",defaultChecked:"light"!==t,onClick:function(){r("light"===t?"dark":"light")}}),(0,h.jsx)("span",{className:b().slider})]})})}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.Component,r=e.pageProps;return(0,h.jsx)("div",{className:"general",children:(0,h.jsx)(m.R,{children:(0,h.jsxs)(u,{enableSystem:!1,children:[(0,h.jsx)(O,{}),(0,h.jsx)(t,v({},r))]})})})}},6363:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(9629)}])},5157:function(e){e.exports={switch:"DarkModeToggleSwitch_switch__ca6Gv",slider:"DarkModeToggleSwitch_slider__Me49b"}},647:function(){},9008:function(e,t,r){e.exports=r(639)},6586:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},2809:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},3789:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(6586);var c=r(6988);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,c.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6988:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(6586);function c(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(6363),t(4651)}));var r=e.O();_N_E=r}]);